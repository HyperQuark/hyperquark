import{P as v}from"./ProjectPlayer-35f73f8d.js";import{_ as P,r as n,q as c,o as p,j as f,c as w,b as l,d,t as b,F as h,g as i,S as k,e as y,L as x}from"./index-3fa98f99.js";import"./settings-b0007178.js";const g={__name:"ProjectIdPlayer",props:["id"],async setup(u){let t,o;const a=u,r=n(null),_=n(""),m=n(""),j=n("");try{const s=([t,o]=c(async()=>([t,o]=c(()=>fetch(`https://trampoline.turbowarp.org/api/projects/${a.id}/`)),t=await t,o(),t).json()),t=await t,o(),t);m.value=s.title,j.value=s.author.username,_.value=([t,o]=c(()=>fetch(`https://projects.scratch.mit.edu/${a.id}/?token=${s.project_token}`).then(e=>{if(!e.ok)throw new Error("response was not OK");return e.json()})),t=await t,o(),t),r.value=!0}catch(s){r.value=s}return(s,e)=>r.value===!0?(p(),f(v,{key:0,json:_.value,author:j.value,title:m.value,zip:null},null,8,["json","author","title"])):(p(),w(h,{key:1},[e[1]||(e[1]=l("h1",null,"Project not found",-1)),e[2]||(e[2]=d(" This could be because it doesn't exist, or it may be private. ")),e[3]||(e[3]=l("br",null,null,-1)),l("details",null,[e[0]||(e[0]=l("summary",null,"Error message (probably unhelpful):",-1)),d(" "+b(r.value),1)])],64))}},I=P(g,[["__scopeId","data-v-7d46cdc0"]]),E={__name:"ProjectIdView",props:["id"],setup(u){const t=u;return(o,a)=>(p(),f(k,null,{fallback:i(()=>[y(x,null,{default:i(()=>a[0]||(a[0]=[d("Loading project")])),_:1})]),default:i(()=>[y(I,{id:t.id},null,8,["id"])]),_:1}))}};export{E as default};
