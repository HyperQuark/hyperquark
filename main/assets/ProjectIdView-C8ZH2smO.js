import{P as v}from"./ProjectPlayer-Btu51QBj.js";import{_ as w,r as n,x as i,k as y,c as k,o as c,a as l,d,t as b,F as h,w as p,b as _,L as x,S as P}from"./index-DjWCMq-V.js";import"./settings-B1ON-phH.js";const g={__name:"ProjectIdPlayer",props:["id"],async setup(u){let t,a;const r=u,s=n(null),m=n(""),f=n(""),j=n("");try{const o=([t,a]=i(async()=>([t,a]=i(()=>fetch(`https://trampoline.turbowarp.org/api/projects/${r.id}/`)),t=await t,a(),t).json()),t=await t,a(),t);f.value=o.title,j.value=o.author.username,m.value=([t,a]=i(()=>fetch(`https://projects.scratch.mit.edu/${r.id}/?token=${o.project_token}`).then(e=>{if(!e.ok)throw new Error("response was not OK");return e.json()})),t=await t,a(),t),s.value=!0}catch(o){s.value=o}return(o,e)=>s.value===!0?(c(),y(v,{key:0,json:m.value,author:j.value,title:f.value,zip:null},null,8,["json","author","title"])):(c(),k(h,{key:1},[e[1]||(e[1]=l("h1",null,"Project not found",-1)),e[2]||(e[2]=d(" This could be because it doesn't exist, or it may be private. ")),e[3]||(e[3]=l("br",null,null,-1)),l("details",null,[e[0]||(e[0]=l("summary",null,"Error message (probably unhelpful):",-1)),d(" "+b(s.value),1)])],64))}},B=w(g,[["__scopeId","data-v-7d46cdc0"]]),E={__name:"ProjectIdView",props:["id"],setup(u){const t=u;return(a,r)=>(c(),y(P,null,{fallback:p(()=>[_(x,null,{default:p(()=>r[0]||(r[0]=[d("Loading project")])),_:1})]),default:p(()=>[_(B,{id:t.id},null,8,["id"])]),_:1}))}};export{E as default};
