import{P as v}from"./ProjectPlayer-eI9L_6rJ.js";import{_ as w,r as n,m as i,k as y,c as k,o as c,a as l,d,t as b,F as h,w as p,b as _,L as P,S as x}from"./index-CLcLsOPu.js";import"./settings-Bme3dqx-.js";import"./index-BATEtbik.js";const g={__name:"ProjectIdPlayer",props:["id"],async setup(u){let t,o;const r=u,s=n(null),m=n(""),f=n(""),j=n("");try{const a=([t,o]=i(async()=>([t,o]=i(()=>fetch(`https://trampoline.turbowarp.org/api/projects/${r.id}/`)),t=await t,o(),t).json()),t=await t,o(),t);f.value=a.title,j.value=a.author.username,m.value=([t,o]=i(()=>fetch(`https://projects.scratch.mit.edu/${r.id}/?token=${a.project_token}`).then(e=>{if(!e.ok)throw new Error("response was not OK");return e.json()})),t=await t,o(),t),s.value=!0}catch(a){s.value=a}return(a,e)=>s.value===!0?(c(),y(v,{key:0,json:m.value,author:j.value,title:f.value,zip:null},null,8,["json","author","title"])):(c(),k(h,{key:1},[e[1]||(e[1]=l("h1",null,"Project not found",-1)),e[2]||(e[2]=d(" This could be because it doesn't exist, or it may be private. ",-1)),e[3]||(e[3]=l("br",null,null,-1)),l("details",null,[e[0]||(e[0]=l("summary",null,"Error message (probably unhelpful):",-1)),d(" "+b(s.value),1)])],64))}},B=w(g,[["__scopeId","data-v-7d46cdc0"]]),L={__name:"ProjectIdView",props:["id"],setup(u){const t=u;return(o,r)=>(c(),y(x,null,{fallback:p(()=>[_(P,null,{default:p(()=>[...r[0]||(r[0]=[d("Loading project",-1)])]),_:1})]),default:p(()=>[_(B,{id:t.id},null,8,["id"])]),_:1}))}};export{L as default};
